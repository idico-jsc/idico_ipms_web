# PWA Setup Guide

This project is configured as a Progressive Web App (PWA) using `vite-plugin-pwa`.

## Features

âœ… **Offline Support** - App works without internet connection
âœ… **Auto Update** - Service worker updates automatically
âœ… **Install Prompt** - Users can install app to home screen
âœ… **Caching Strategy** - Smart caching for fonts and assets
âœ… **Fast Loading** - Precached assets for instant load

## PWA Icons

To generate PWA icons, you need to create two icons:

### Required Icons:
- `public/pwa-192x192.png` - 192x192 pixels
- `public/pwa-512x512.png` - 512x512 pixels

### How to Create Icons:

**Option 1: Using online tools**
1. Go to https://www.pwabuilder.com/imageGenerator
2. Upload your logo/icon
3. Download the generated icons
4. Place them in the `public/` folder

**Option 2: Using ImageMagick (command line)**
```bash
# If you have a source icon (e.g., icon.png)
convert icon.png -resize 192x192 public/pwa-192x192.png
convert icon.png -resize 512x512 public/pwa-512x512.png
```

**Option 3: Manually**
- Use any image editor (Photoshop, GIMP, Figma, etc.)
- Export as PNG with dimensions 192x192 and 512x512
- Place in `public/` folder

### Temporary Setup (for development):

If you don't have icons yet, create placeholder icons:

```bash
# Create simple placeholder icons
npm run pwa:icons
```

## Configuration

PWA is configured in `vite.config.ts`:

```typescript
VitePWA({
  registerType: 'autoUpdate',
  manifest: {
    name: 'React TypeScript Starter',
    short_name: 'React TS',
    theme_color: '#000000',
    // ... more config
  },
  workbox: {
    // Caching strategies
    runtimeCaching: [...]
  }
})
```

## Manifest

The web app manifest is auto-generated by the plugin. Key settings:

- **Name**: React TypeScript Starter
- **Theme Color**: #000000 (black)
- **Background**: #ffffff (white)
- **Display**: Standalone (like native app)
- **Start URL**: / (home page)

## Service Worker

The service worker is automatically generated and includes:

### Cached Assets:
- JavaScript files
- CSS files
- HTML files
- Images (PNG, SVG)
- Fonts (WOFF2)

### Runtime Caching:
- **Google Fonts** - CacheFirst strategy (1 year)
- **Font Files** - CacheFirst strategy (1 year)

## Testing PWA

### Development:
```bash
npm run dev
```

The PWA works in development mode with `devOptions.enabled: true`.

### Production:
```bash
npm run build
npm run preview
```

### Test on Mobile:

1. **Chrome DevTools:**
   - Open DevTools (F12)
   - Go to "Application" tab
   - Check "Service Workers" and "Manifest"

2. **Lighthouse:**
   - Open DevTools
   - Go to "Lighthouse" tab
   - Run PWA audit

3. **Real Device:**
   - Deploy to a server with HTTPS
   - Visit on mobile browser
   - Look for "Add to Home Screen" prompt

## Install Prompt

Users can install the app:

### Desktop:
- Chrome: Address bar shows install icon
- Edge: Address bar shows install icon

### Mobile:
- Chrome: "Add to Home Screen" prompt
- Safari: Share menu â†’ "Add to Home Screen"

## Updating the App

When you deploy a new version:

1. Service worker detects update
2. Downloads new assets in background
3. Shows update prompt to user (if configured)
4. Reloads with new version

## Offline Mode

The app works offline after first visit:

- Precached assets load instantly
- Runtime caching for API calls (if configured)
- Graceful fallback for unavailable resources

## Customization

### Change App Name:
Edit `manifest.name` and `manifest.short_name` in `vite.config.ts`

### Change Colors:
Edit `manifest.theme_color` and `manifest.background_color`

### Add More Cache:
Add patterns to `workbox.runtimeCaching`

### Skip Waiting:
```typescript
VitePWA({
  workbox: {
    skipWaiting: true,
    clientsClaim: true,
  }
})
```

## Troubleshooting

### Service Worker not updating?
```bash
# Clear browser cache
# Or use DevTools â†’ Application â†’ Service Workers â†’ Unregister
```

### Icons not showing?
- Check file paths in `public/` folder
- Verify icon dimensions (192x192, 512x512)
- Clear browser cache

### Install prompt not showing?
- Ensure HTTPS (required for PWA)
- Check manifest in DevTools
- Some browsers require user engagement

## Resources

- [vite-plugin-pwa Docs](https://vite-pwa-org.netlify.app/)
- [PWA Builder](https://www.pwabuilder.com/)
- [Workbox Docs](https://developers.google.com/web/tools/workbox)
- [Web App Manifest](https://developer.mozilla.org/en-US/docs/Web/Manifest)

---

Happy building! ðŸš€
